<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.String?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Circle?>
<?import javafx.scene.text.Text?>

<HBox prefHeight="720.0" prefWidth="1280.0" stylesheets="@pelo-theme.css" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.pelo_chat.controller.ChatController">
   <children>
      <!-- SECTION 1: SIDEBAR NAVIGATION -->
      <VBox alignment="TOP_CENTER" spacing="20.0" styleClass="pelo-sidebar">
         <children>
            <Button mnemonicParsing="false" styleClass="pelo-sidebar-item, active">
               <graphic>
                  <StackPane>
                     <Text fill="#00853f" scaleX="1.5" scaleY="1.5" strokeType="OUTSIDE" strokeWidth="0.0" text="ðŸ’¬" />
                     <Label styleClass="pelo-badge, pelo-badge-gold" text="3" StackPane.alignment="TOP_RIGHT">
                        <StackPane.margin>
                           <Insets right="-5.0" top="-5.0" />
                        </StackPane.margin>
                     </Label>
                  </StackPane>
               </graphic>
            </Button>
            <Button mnemonicParsing="false" styleClass="pelo-sidebar-item">
               <graphic>
                  <Text fill="WHITE" scaleX="1.5" scaleY="1.5" strokeType="OUTSIDE" strokeWidth="0.0" text="ðŸ‘¥" />
               </graphic>
            </Button>
            <Button mnemonicParsing="false" styleClass="pelo-sidebar-item">
               <graphic>
                  <Text fill="WHITE" scaleX="1.5" scaleY="1.5" strokeType="OUTSIDE" strokeWidth="0.0" text="#" />
               </graphic>
            </Button>
            <Button mnemonicParsing="false" styleClass="pelo-sidebar-item">
               <graphic>
                  <Text fill="WHITE" scaleX="1.5" scaleY="1.5" strokeType="OUTSIDE" strokeWidth="0.0" text="ðŸ“ž" />
               </graphic>
            </Button>
            <Button mnemonicParsing="false" styleClass="pelo-sidebar-item">
               <graphic>
                  <Text fill="WHITE" scaleX="1.5" scaleY="1.5" strokeType="OUTSIDE" strokeWidth="0.0" text="ðŸ“„" />
               </graphic>
            </Button>
            <Pane VBox.vgrow="ALWAYS" />
            <Button mnemonicParsing="false" styleClass="pelo-sidebar-item">
               <graphic>
                  <Text fill="WHITE" scaleX="1.2" scaleY="1.2" strokeType="OUTSIDE" strokeWidth="0.0" text="âš™ï¸" />
               </graphic>
            </Button>
            <StackPane styleClass="pelo-avatar, pelo-avatar-sm, pelo-avatar-green">
               <children>
                  <Text fill="WHITE" strokeType="OUTSIDE" strokeWidth="0.0" text="DK" />
               </children>
            </StackPane>
         </children>
      </VBox>

      <!-- SECTION 2: CHAT LIST PANEL -->
      <VBox styleClass="pelo-chat-list">
         <children>
            <VBox spacing="15.0" styleClass="pelo-chat-list-header">
               <children>
                  <Label styleClass="pelo-title-lg" text="Messages" />
                  <TextField fx:id="searchField" promptText="Search conversations..." styleClass="pelo-search-bar" />
                  <HBox spacing="10.0">
                     <children>
                        <Button mnemonicParsing="false" styleClass="pelo-filter, active" text="All" />
                        <Button mnemonicParsing="false" styleClass="pelo-filter" text="Direct" />
                        <Button mnemonicParsing="false" styleClass="pelo-filter" text="Groups" />
                     </children>
                  </HBox>
               </children>
            </VBox>
            <ScrollPane fitToWidth="true" styleClass="scroll-pane" VBox.vgrow="ALWAYS">
               <content>
                  <VBox fx:id="chatListContainer"/>
               </content>
            </ScrollPane>
         </children>
      </VBox>

      <!-- SECTION 3: MAIN CHAT PANEL -->
      <VBox HBox.hgrow="ALWAYS">
         <children>
            <!-- Chat Header -->
            <HBox alignment="CENTER_LEFT" spacing="15.0" styleClass="pelo-chat-header">
               <children>
                  <StackPane styleClass="pelo-avatar, pelo-avatar-md, pelo-avatar-navy">
                     <children>
                        <Text fill="WHITE" strokeType="OUTSIDE" strokeWidth="0.0" text="AB" />
                        <Circle fill="#2ecc71" radius="5.0" stroke="WHITE" strokeType="INSIDE" StackPane.alignment="BOTTOM_RIGHT" />
                     </children>
                  </StackPane>
                  <VBox alignment="CENTER_LEFT">
                     <children>
                        <Label fx:id="headerName" styleClass="pelo-title-md" text="Amadou Ba" />
                        <HBox alignment="CENTER_LEFT" spacing="5.0">
                           <children>
                              <Circle fill="#2ecc71" radius="3.0" />
                              <Label fx:id="headerStatus" styleClass="pelo-label-green" text="Online" />
                              <Label fx:id="headerRole" styleClass="pelo-meta" text="â€¢ Directeur Financier" />
                           </children>
                        </HBox>
                     </children>
                  </VBox>
                  <Pane HBox.hgrow="ALWAYS" />
                  <HBox alignment="CENTER" spacing="5.0">
                     <children>
                        <Button mnemonicParsing="false" styleClass="pelo-btn-icon">
                           <graphic><Text strokeType="OUTSIDE" strokeWidth="0.0" text="ðŸ“¹" /></graphic>
                        </Button>
                        <Button mnemonicParsing="false" styleClass="pelo-btn-icon">
                           <graphic><Text strokeType="OUTSIDE" strokeWidth="0.0" text="ðŸ“ž" /></graphic>
                        </Button>
                        <Button mnemonicParsing="false" styleClass="pelo-btn-icon">
                           <graphic><Text strokeType="OUTSIDE" strokeWidth="0.0" text="â“˜" /></graphic>
                        </Button>
                        <Button mnemonicParsing="false" styleClass="pelo-btn-icon">
                           <graphic><Text strokeType="OUTSIDE" strokeWidth="0.0" text="ðŸ”" /></graphic>
                        </Button>
                        <Button mnemonicParsing="false" styleClass="pelo-btn-icon">
                           <graphic><Text strokeType="OUTSIDE" strokeWidth="0.0" text="â€¢â€¢â€¢" /></graphic>
                        </Button>
                     </children>
                  </HBox>
               </children>
            </HBox>

            <!-- Message Area -->
            <ScrollPane fitToWidth="true" styleClass="scroll-pane" VBox.vgrow="ALWAYS">
               <content>
                  <VBox fx:id="messageContainer" spacing="25.0" style="-fx-padding: 30 40;"/>
               </content>
            </ScrollPane>

            <!-- Chat Input Area -->
            <VBox styleClass="pelo-chat-input-area">
               <children>
                  <HBox alignment="CENTER_LEFT" spacing="10.0">
                     <children>
                        <Button mnemonicParsing="false" styleClass="pelo-toolbar-btn" text="B" />
                        <Button mnemonicParsing="false" styleClass="pelo-toolbar-btn" text="I" />
                        <Button mnemonicParsing="false" styleClass="pelo-toolbar-btn" text="ðŸ”—" />
                        <Button mnemonicParsing="false" styleClass="pelo-toolbar-btn" text="â‰¡" />
                        <Button mnemonicParsing="false" styleClass="pelo-toolbar-btn" text="\@" />
                     </children>
                  </HBox>
                  <HBox alignment="CENTER_LEFT" spacing="12.0">
                     <children>
                        <TextField fx:id="messageField" promptText="Je vais regarder Ã§a maintenant â€” excellente initiative ðŸ‘‹" styleClass="pelo-text-input" HBox.hgrow="ALWAYS" />
                        <Button mnemonicParsing="false" styleClass="pelo-btn-icon">
                           <graphic><Text scaleX="1.3" scaleY="1.3" strokeType="OUTSIDE" strokeWidth="0.0" text="ðŸ˜Š" /></graphic>
                        </Button>
                        <Button mnemonicParsing="false" styleClass="pelo-btn-icon">
                           <graphic><Text scaleX="1.3" scaleY="1.3" strokeType="OUTSIDE" strokeWidth="0.0" text="ðŸ“Ž" /></graphic>
                        </Button>
                        <Button mnemonicParsing="false" styleClass="pelo-send-btn" onAction="#onSend">
                           <graphic><Text fill="WHITE" scaleX="1.2" scaleY="1.2" strokeType="OUTSIDE" strokeWidth="0.0" text="âž¤" /></graphic>
                        </Button>
                     </children>
                  </HBox>
               </children>
            </VBox>
         </children>
      </VBox>

      <!-- SECTION 4: CONTACT DETAILS PANEL -->
      <VBox alignment="TOP_CENTER" spacing="25.0" styleClass="pelo-right-panel">
         <children>
            <VBox alignment="CENTER" spacing="15.0" styleClass="pelo-rp-header">
               <children>
                  <Label styleClass="pelo-title-sm" text="Contact Details" />
               </children>
            </VBox>
            <VBox alignment="CENTER" spacing="10.0">
               <children>
                  <StackPane styleClass="pelo-avatar, pelo-avatar-lg, pelo-avatar-navy">
                     <children>
                        <Text fx:id="rpInitials" fill="WHITE" strokeType="OUTSIDE" strokeWidth="0.0" text="AB" />
                        <Circle fill="#2ecc71" radius="8.0" stroke="WHITE" strokeType="INSIDE" StackPane.alignment="BOTTOM_RIGHT" />
                     </children>
                  </StackPane>
                  <Label fx:id="rpName" styleClass="pelo-title-md" text="Amadou Ba" />
                  <Label fx:id="rpRole" styleClass="pelo-meta" text="Directeur Financier â€¢ CFO" />
                  <Label styleClass="pelo-dept-tag" text="Finance &amp; StratÃ©gie" />
               </children>
            </VBox>
            <HBox alignment="CENTER" spacing="10.0">
               <children>
                  <Button mnemonicParsing="false" styleClass="pelo-btn-primary" text="ðŸ“¹ Video" />
                  <Button mnemonicParsing="false" styleClass="pelo-btn-ghost" text="ðŸ“ž Call" />
               </children>
            </HBox>
            <VBox spacing="12.0" style="-fx-padding: 0 20;">
               <children>
                  <Label styleClass="pelo-section-label" text="PROFILE" />
                  <HBox alignment="CENTER_LEFT">
                     <children>
                        <Label styleClass="pelo-body" text="Status" />
                        <Pane HBox.hgrow="ALWAYS" />
                        <Label styleClass="pelo-label-green" text="â€¢ Online" />
                     </children>
                  </HBox>
                  <HBox alignment="CENTER_LEFT">
                     <children>
                        <Label styleClass="pelo-body" text="Location" />
                        <Pane HBox.hgrow="ALWAYS" />
                        <Label styleClass="pelo-body-navy" text="Dakar, SN" />
                     </children>
                  </HBox>
                  <HBox alignment="CENTER_LEFT">
                     <children>
                        <Label styleClass="pelo-body" text="Local time" />
                        <Pane HBox.hgrow="ALWAYS" />
                        <Label styleClass="pelo-body-navy" text="09:41 GMT" />
                     </children>
                  </HBox>
                  <HBox alignment="CENTER_LEFT">
                     <children>
                        <Label styleClass="pelo-body" text="Member since" />
                        <Pane HBox.hgrow="ALWAYS" />
                        <Label styleClass="pelo-body-navy" text="Jan 2023" />
                     </children>
                  </HBox>
               </children>
            </VBox>
         </children>
      </VBox>
   </children>
</HBox>
